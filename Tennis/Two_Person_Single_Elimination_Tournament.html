<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dynamic Battle Table with Score Input</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <style>
    .highlight {
      background-color: #ffeeba;
    }
  </style>
</head>
<body>

  <div class="container mt-5">
    <h2 class="text-center mb-4">對戰表</h2>

    <script>
      // 你的參賽者陣列（包含 value 屬性表示分數）
      const participants = [
        { name: "選手1", id: 1, value: 0 },
        { name: "選手2", id: 2, value: 0 },
        { name: "選手3", id: 3, value: 0 },
        // 可以添加更多參賽者
      ];

      // 使用 JavaScript 生成資料表
      const generateTable = () => {
        const table = document.createElement('table');
        table.id = 'battleTable';
        table.classList.add('table');

        const thead = table.createTHead();
        const headerRow = thead.insertRow();
        const headers = ['參賽者一', 'VS', '參賽者二'];

        headers.forEach(headerText => {
          const th = document.createElement('th');
          const text = document.createTextNode(headerText);
          th.appendChild(text);
          headerRow.appendChild(th);
        });

        const tbody = document.createElement('tbody');
        participants.forEach(participant => {
          const row = tbody.insertRow();
          const cell1 = row.insertCell(0);
          const cell2 = row.insertCell(1);
          const cell3 = row.insertCell(2);

          // 使用 input 元素作為參賽者一的內容
          const participantInput = document.createElement('input');
          participantInput.type = 'text';
          participantInput.classList.add('form-control');
          participantInput.value = participant.name; // 設置 input 的值為參賽者名稱
          cell1.appendChild(participantInput);

          // 使用 input 元素作為參賽者一的分數輸入框
          const scoreInput1 = document.createElement('input');
          scoreInput1.type = 'text';
          scoreInput1.classList.add('form-control');
          scoreInput1.value = participant.value; // 設置 input 的值為參賽者分數
          cell1.appendChild(scoreInput1);

          cell2.textContent = 'VS';

          // 使用 input 元素作為參賽者二的內容
          const participantInput2 = document.createElement('input');
          participantInput2.type = 'text';
          participantInput2.classList.add('form-control');
          participantInput2.value = participant.name; // 設置 input 的值為參賽者名稱
          cell3.appendChild(participantInput2);

          // 使用 input 元素作為參賽者二的分數輸入框
          const scoreInput2 = document.createElement('input');
          scoreInput2.type = 'text';
          scoreInput2.classList.add('form-control');
          scoreInput2.value = participant.value; // 設置 input 的值為參賽者分數
          cell3.appendChild(scoreInput2);

          row.classList.add('battle-row');

          // 添加點擊事件
          row.addEventListener('click', function() {
            // 移除其他行的突顯效果
            Array.from(tbody.getElementsByClassName('battle-row')).forEach(row => {
              row.classList.remove('highlight');
            });

            // 添加被點擊行的突顯效果
            row.classList.add('highlight');
          });

          // 添加輸入事件監聽器以更新分數
          scoreInput1.addEventListener('input', function() {
            // 更新參賽者陣列中的分數
            participant.value = parseInt(scoreInput1.value) || 0;
          });

          // 添加輸入事件監聽器以更新分數
          scoreInput2.addEventListener('input', function() {
            // 更新參賽者陣列中的分數
            participant.value = parseInt(scoreInput2.value) || 0;
          });
        });

        table.appendChild(tbody);

        return table;
      };

      // 將表格添加到容器中
      document.querySelector('.container').appendChild(generateTable());
    </script>
  </div>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>
</html>
